def generate_continuum(x, y, n_piece=None):
	  # check the n_piece
	  if n_piece is None: n_piece = 3

	  x_sections = np.array_split(x, n_piece)
	  y_sections = np.array_split(y, n_piece)

	  x_value_array = []
	  y_value_array = []
	  x_value_array.append(np.median(x_sections[0]))
	  y_value_array.append(np.median(y_sections[0]))
	  x_value_array.append(np.median(x_sections[-1]))
	  y_value_array.append(np.median(y_sections[-1]))


    # spline fitting
	  spline = CubicSpline(x_value_array, y_value_array)
	  y_spline = spline(x)
    
	  return y_spline
